# **å¦‚ä½•è·å–ç±³å“ˆæ¸¸æ¸¸æˆCookies**

âš ï¸ **é‡è¦å®‰å…¨æé†’**
 ğŸ” Cookiesç›¸å½“äºæ‚¨çš„è´¦æˆ·å¯†ç ï¼
 ğŸš« **åˆ‡å‹¿ä¸ä»»ä½•äººåˆ†äº«æ‚¨çš„Cookies**
 â³ Cookieså°†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¤±æ•ˆï¼š

- **æ‰‹åŠ¨ç™»å‡º**
- **æ›´æ”¹å¯†ç **
- **é•¿æ—¶é—´æœªæ´»åŠ¨**

------

## **âœ… å®‰å…¨è·å–Cookiesçš„æ–¹æ³•**

### **æ¨èçš„æµè§ˆå™¨è®¾ç½®**

```diff
+ ä½¿ç”¨æ— ç—•/éšç§æµè§ˆæ¨¡å¼  
+ åœ¨æ“ä½œå‰å…³é—­æ‰€æœ‰å…¶ä»–ç½‘é¡µæ ‡ç­¾  
- é¿å…ä½¿ç”¨æ™®é€šæµè§ˆæ¨¡å¼  
- è·å–Cookiesåè¯·å‹¿ä¸»åŠ¨ç™»å‡º  
```

------

## ğŸ“‹ **å‰ç½®å‡†å¤‡**

- **Chrome/Firefox/Edgeæµè§ˆå™¨**
- **å·²ç™»å½•çš„HoYoLABè´¦å·**

------

## ğŸ›  **è¯¦ç»†æ“ä½œæŒ‡å—**

### **1. è®¿é—®æ¯æ—¥ç­¾åˆ°é¡µé¢**

1. æ‰“å¼€HoYoLABæ¯æ—¥ç­¾åˆ°
2. é€‰æ‹©æ‚¨çš„æ¸¸æˆ
3. **å…ˆä¸è¦ç‚¹å‡»ç­¾åˆ°ï¼ï¼ï¼** â€”â€” æˆ‘ä»¬éœ€è¦æ•è·ç­¾åˆ°è¯·æ±‚

------

### **2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**

| æµè§ˆå™¨      | å¿«æ·é”®                  |
| ----------- | ----------------------- |
| Chrome/Edge | `F12` æˆ– `Ctrl+Shift+I` |
| Firefox     | `Ctrl+Shift+C`          |
| Safari      | `å¼€å‘ > æ˜¾ç¤ºWebæ£€æŸ¥å™¨`  |

![inspector](picture/inspector.png)

------

### **3. ç›‘å¬ç½‘ç»œè¯·æ±‚**

1. åˆ‡æ¢åˆ° **Networkï¼ˆç½‘ç»œï¼‰** é€‰é¡¹å¡
2. å‹¾é€‰ **Preserve logï¼ˆä¿æŒæ—¥å¿—ï¼‰**

![inspector](picture/network_inspect.png)

------

### **4. è§¦å‘ç­¾åˆ°è¯·æ±‚**

1. **ç‚¹å‡»ç­¾åˆ°æŒ‰é’®**

2. åœ¨ç½‘ç»œè¯·æ±‚ä¸­å¯»æ‰¾ç¬¦åˆä»¥ä¸‹è§„åˆ™çš„è¯·æ±‚ï¼š

   ```text
   /sign?lang=
   ```

------

### **5. æå–Cookies**

1. **ç‚¹å‡»ç­¾åˆ°ç›¸å…³çš„è¯·æ±‚**
2. **è¿›å…¥â€œHeadersï¼ˆè¯·æ±‚å¤´ï¼‰â€é€‰é¡¹å¡**
3. **æ‰¾åˆ°â€œRequest Headersï¼ˆè¯·æ±‚å¤´ï¼‰â€ä¸‹çš„â€œCookieâ€å­—æ®µ**
4. **å¤åˆ¶å®Œæ•´çš„Cookieså†…å®¹**

![sign](picture/cookies.png)

------

## ğŸ›  **è·å–Cookiesåçš„é…ç½®æ­¥éª¤**

1. å°†Cookiesç²˜è´´åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼š

   ```typescript
   // /api/config.ts
   {
     plugins: [
       {
         name: 'genshin',
         modulePath: "@official/genshin.js",
         options: {
           users: [{
             cookies: 'PASTE_COOKIES_HERE' // â† åœ¨æ­¤å¤„ç²˜è´´Cookies
           }]
         }
       }
     ]
   }
   ```

2. **é€šç”¨Cookiesè¯´æ˜ï¼š**

   ```diff
   + ä¸€ä¸ªCookieså¯é€‚ç”¨äºæ‰€æœ‰ç±³å“ˆæ¸¸æ¸¸æˆ  
   + é€‚ç”¨äºä»¥ä¸‹æ¸¸æˆï¼š  
     - åŸç¥  
     - å´©åï¼šæ˜Ÿç©¹é“é“  
     - ç»åŒºé›¶  
     - ä»¥åŠå…¶ä»–ç±³å“ˆæ¸¸æ¸¸æˆ  
   - æ— éœ€ä¸ºæ¯æ¬¾æ¸¸æˆå•ç‹¬è·å–Cookies  
   ```

